<template>
  <el-upload
      class="upload"
      drag
      action="https://run.mocky.io/v3/311e58ad-2924-4180-8901-75bd67f690e9"
      multiple
      :on-remove="handleRemove"
      :on-error="handleError"
      :on-success="handleSuccess"

  >
    <el-icon class="el-icon--upload"><upload-filled /></el-icon>
    <div class="el-upload__text">
      å°†è¦ä¸Šä¼ çš„æ–‡ä»¶ğŸ“æ‹–åˆ°è¿™é‡Œ <em>æˆ–ç‚¹å‡»ä¸Šä¼ </em>
    </div>
    <template #tip>
      <div class="el-upload__tip">
        æ”¯æŒxlsxï¼Œdocxï¼Œcsvç­‰æ–‡ä»¶
      </div>
    </template>
  </el-upload>
</template>

<script setup lang="ts">
import type { UploadProps, UploadUserFile } from 'element-plus'
import { UploadFilled } from '@element-plus/icons-vue'
import {ElMessage} from "element-plus";
// å¤„ç†æ–‡ä»¶ç§»é™¤
const handleRemove: UploadProps['onRemove'] = (file, uploadFiles) => {
  console.log(file, uploadFiles)
  fetch('url')
      .then()
      .catch()

}
const handleError: UploadProps['onError'] = (error, file, uploadFiles) => {
  ElMessage.error('Oops, æ–‡ä»¶:'+file.name+'ä¸Šä¼ å¤±è´¥ğŸ˜¿')
}
const handleSuccess: UploadProps['onSuccess'] = (response, uploadFile) => {
  ElMessage({
    message: 'æˆåŠŸä¸Šä¼ æ–‡ä»¶' + uploadFile.name + 'ğŸ˜Š',
    type: 'success',
  })
}
</script>
